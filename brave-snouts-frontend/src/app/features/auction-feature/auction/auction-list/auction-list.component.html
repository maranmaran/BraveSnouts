<div class="container container-grid">
    <div class="auctions-grid">

        <ng-container *ngIf="(auctions$ | async) as auctions; else noAuctions">
            <div @fadeIn id="auctions" fxLayout="column" fxLayoutGap="0.5rem">
                <button id="tracked-items-btn" mat-raised-button color="primary" *ngIf="(userTracksItems$ | async)"
                    routerLink="/my-items" class="w-100 mb-3 elevate hover-big" [ngClass]="{
            }">
                    Moji predmeti
                </button>

                <mat-card *ngFor="let auction of auctions" class="pointer background lighter elevate hover"
                    (click)="onClick(auction)"
                    [ngClass]="{'warn': getAuctionState(auction) == 'expired','primary': getAuctionState(auction) == 'future'}">

                    <mat-card-header fxLayout="row" fxLayoutAlign="space-between">

                        <mat-card-title>
                            {{auction.name}}

                            <ng-container [ngSwitch]="getAuctionState(auction)">
                                <mat-card-subtitle *ngSwitchCase="'future'">
                                    Počinje: {{ auction.startDate.toDate() | date: 'MMM d, h:mm:ss' }}
                                </mat-card-subtitle>
                                <mat-card-subtitle *ngSwitchCase="'expired'">
                                    Završila: {{ auction.endDate.toDate() | date: 'MMM d, h:mm:ss' }}
                                </mat-card-subtitle>
                                <mat-card-subtitle *ngSwitchDefault>
                                    Traje do: {{ auction.endDate.toDate() | date: 'MMM d, h:mm:ss' }}
                                </mat-card-subtitle>
                            </ng-container>

                        </mat-card-title>

                        <div fxLayout="row" *ngIf="(admin$ | async)">
                            <button mat-icon-button color="primary" (click)="onViewBids(auction, $event)">
                                <mat-icon>shopping_cart</mat-icon>
                            </button>
                            <button mat-icon-button color="primary" (click)="onEdit(auction, $event)">
                                <mat-icon>edit</mat-icon>
                            </button>
                            <button mat-icon-button color="warn" (click)="onDelete(auction, $event)">
                                <mat-icon>delete</mat-icon>
                            </button>
                        </div>
                    </mat-card-header>

                </mat-card>
            </div>
        </ng-container>
        <ng-template #noAuctions>
            <i *ngIf="auctionsBootstrapped" class="custom-font center mat-title">Trenutno nema aktivnih aukcija</i>
        </ng-template>

        <div id="donate">
            <app-donate *ngIf="auctionsBootstrapped"></app-donate>
        </div>
    </div>

    <div *ngIf="auctionsBootstrapped" @fadeIn fxFlexFill class="center background lighter warn "> Google ads ? </div>
</div>